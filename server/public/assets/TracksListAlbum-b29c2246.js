import{P as w,r as a,B as P,E as v,j as e,F as T,G as S,H as A,J as C}from"./index-d7cf4f9b.js";import{P as E}from"./PlaylistSelector-ac6691d6.js";async function M(s,n,i){let r=s;return n(s.expiration)||(r=await i(s.id)),r}function B(){const{id:s}=w(),{getTrackByAlbumId:n,albums:i,tracks:r,isValidTimestamp:x,fetchNewUrl:f}=a.useContext(P),{setCurrentMusic:h,currentMusic:g,setCurrentPlaylist:p}=v(),[y,m]=a.useState(!1),[b,u]=a.useState(null),[o,j]=a.useState([]),l=i.find(t=>t.id.toString()===s),N=t=>{m(!0),u(t)};return a.useEffect(()=>{if(s){const t=n(s);j(t)}},[s,r]),!l||o.length===0?e.jsx(T,{}):e.jsxs("div",{className:"flex md:flex-row flex-col",children:[e.jsxs("div",{className:" md:w-1/2 w-full px-4 pr-2 py-6 flex flex-col items-center text-justify gap-4",children:[e.jsxs("h1",{className:"lg:text-2xl md:text-lg font-bold text-gray-100",children:[e.jsx("span",{className:"font-bold text-gray-400",children:"Nom de l'album : "}),'"'," ",l.title,' "']}),e.jsxs("h2",{className:"lg:text-xl md:text-lg font-semibold text-gray-100",children:[e.jsx("span",{className:"font-bold text-gray-400",children:"Artiste : "}),l.artist]}),e.jsxs("h3",{className:"lg:text-lg md:text-md font-semibold text-gray-100 lg:px-48",children:[e.jsx("span",{className:"font-bold text-gray-400",children:"Description : "}),l.description]}),e.jsxs("h3",{className:"lg:text-lg md:text-md font-semibold text-gray-100",children:[e.jsx("span",{className:"font-bold text-gray-400",children:"Genre : "}),l.styles[0].style]}),e.jsxs("h3",{className:"lg:text-lg md:text-md font-semibold text-gray-100",children:[e.jsx("span",{className:"font-bold text-gray-400",children:"Année : "}),l.year]})]}),e.jsxs("div",{className:"md:w-1/2 w-full px-4 pl-2 py-6 flex flex-col gap-4",children:[o.map(t=>{const d=g.url===t.url;return e.jsxs("div",{className:`${d?" border-primary":"border-transparent"} flex gap-2 text-xs relative transition-shadow duration-300 shadow-lg hover:shadow-none bg-light rounded-2xl overflow-hidden text-gray-100 border-2 border-dashed`,children:[e.jsx("div",{className:"w-3/12 h-24",children:t.thumbnail?e.jsx("img",{className:"rounded-lg h-full w-full object-cover",alt:t.title,src:t.thumbnail}):e.jsx(S,{})}),e.jsxs("div",{className:"w-8/12 flex flex-col gap-2 justify-center",children:[e.jsx("h6",{className:"font-semibold text-sm",children:t.title}),e.jsx("p",{className:"text-xs text-gray-400",children:t.duration}),e.jsx("button",{className:"text-right text-transparent bg-clip-text bg-gradient-to-r from-primary to-secondary font-semibold text-sm shadow-none focus:outline-none focus:ring-0 focus:shadow-none border-none",onClick:c=>{c.stopPropagation(),N(t)},children:"Ajouter à une playlist"})]}),e.jsx("div",{onClick:()=>{d||(async()=>{const c=await M(t,x,f);h(c,!0),p(o)})()},className:"w-1/6 min-w-[75px] flex justify-center items-center text-3xl bg-black/10 hover:text-purple-300 rounded-xl cursor-pointer",children:d?e.jsx(A,{}):e.jsx(C,{})})]},t.id)}),e.jsx(E,{selectedMusic:b,showPlaylistSelector:y,setShowPlaylistSelector:m,setSelectedMusic:u})]})]})}export{B as default};
